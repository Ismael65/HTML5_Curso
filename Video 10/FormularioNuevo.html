<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Formulario Nuevo</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <style>
            
            table{
                align-items: center;
                background-color: coral;
                width: 25%;
                margin: auto;
                border: 2px #00f dashed;
            }
            td{
                padding: 15px;
                }
                   
        </style>
        
        <script>
          /* function comenzar(){
               var nombre=document.getElementById("nombre");
               var apellido=document.getElementById("apellido");
               
               nombre.addEventListener("input", validar, false);
               apellido.addEventListener("input", validar, false);
               validar();
           }
           function validar(){
               if (nombre.value=="" && apellido.value=="") {
                   
                   nombre.setCustomValidity("Introduce Nombre o Apellido");
                   
                    edad.style.background = "#f7b868";
                    nombre.style.background = "#f7b868";
                   apellido.style.background ="#f7b868";
   
            } 
                else 
            {
                    nombre.setCustomValidity ("");
                    
                    edad.style.background ="#d1d0cf";
                    nombre.style.background = "#d1d0cf";
                    apellido.style.background = "#d1d0cf";
            }
           }*/
          var edad;
          
            function comenzar(){
               edad=document.getElementById("miedad");
               
               edad.addEventListener("change", cambia_rango, false);
               
               document.datos_usuario.addEventListener("invalid", validar, true);
               
               document.getElementById("Enviar").addEventListener("click", enviar, false);
               
               document.datos_usuario.addEventListener("input", validar_tiemp_real, false);
           }
           
           function cambia_rango(){
               var salida=document.getElementById("rango");
               
               var calculo=edad.value-30;
               
               if (calculo<30) {
                   calculo=30;
                   
                   edad.value=30;
                }
                    salida.innerHTML=calculo+" a "+edad.value;
   
           }
           
           function validar(e){
               var elemento=e.target;
               elemento.style.background="#ffdddd";
           }
           
           function enviar(){
               var cuadro_usuario=document.getElementById("usuario");
               
               var correcto=document.datos_usuario.checkValidity();
               
            if (correcto==true) {
                document.datos_usuario.submit();
                
                } else if (cuadro_usuario.validity.valueMissing==true || cuadro_usuario.validity.patternMissing==true) {
                    alert("El usuario no puede estar vacio y recuerda que tiene que tener tres letras");
    
                    }
           }
           
           function validar_tiemp_real(e) {
                var elemento=e.target;
                if (elemento.validity.valid==true) {
                    
                    elemento.style.background="#ffff";
            } else {
                elemento.style.background="#ffdddd";
                
            }
            }
            
        window.addEventListener("load", comenzar, false);    
        </script>
        
        
        
    </head>
    <body>

        <!--<form name="registro" method="get">
            <datalist id="informacion">
                <option value="123" label="telefono 1">
                <option value="456" label="telefono 2">
                <option value="789" label="telefono 3">
            </datalist>
            Telefono:&nbsp;<input type="tel" name="telefono" id="telefono" list="informacion"/>
        </form>-->

        <form name="datos_usuario" method="get">
            <!--<table>
                <tr>
                    <td>Nombre:</td>
                    <td><input type="text" name="nombre" id="nombre"/></td>
                </tr>
                <tr><td>Apellido:</td><td><input type="text" name="apellido" id="apellido"/></td>
                </tr>
                <tr><td>Edad:</td><td><input type="number" name="edad" id="edad" min="1" max="100"/></td></tr>
                <tr><td><input type="submit"  name="enviar" value="Registra" /></td></tr>
                
            </table>-->
            
            <table>
                <tr>
                    <td>Usuario:</td>
                    <td><input pattern="[A-Za-z]{3}" name="usuario" id="usuario" maxlength="10" required=""/></td>
                </tr>
                <tr><td>Email:</td><td><input type="email" name="miemail" id="miemail" required=""/></td>
                </tr>
                <tr><td>Edad:</td><td><input type="range" name="miedad" id="miedad" min="0" max="120" value="30" step="30"/></td></tr>
                <tr><td><output id="rango"> 0 a 30 </output></td></tr>
                <tr><td><input type="submit"  name="Enviar" value="Registra" /></td></tr>
                
            </table>
            
            
        </form>


    <div></div>
</body>
</html>
